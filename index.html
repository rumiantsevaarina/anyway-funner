<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–æ—Ä–æ–Ω–∫–∞ AnyWay | –†–∞—Å—á–µ—Ç —à–∞–Ω—Å–æ–≤</title>
    <style>
        /* --- –§–∏—Ä–º–µ–Ω–Ω—ã–µ –°—Ç–∏–ª–∏ AnyWay --- */
        :root {
            --color-background: #F5F5F7; /* –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
            --color-container-bg: #FFFFFF; /* –§–æ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            --color-secondary-dark: #1C1D38; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π (–¢–µ–∫—Å—Ç, H1, –ö–Ω–æ–ø–∫–∏) */
            --color-header-mint: #59C9A5; /* –ú—è—Ç–Ω—ã–π (H2) */
            --color-accent-pink: #E44C7B; /* –†–æ–∑–æ–≤—ã–π (–ê–∫—Ü–µ–Ω—Ç—ã, H3, –†–∞–º–∫–∏) */
            --color-light-text: #FFFFFF; /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö */
            --color-soon-btn: #6c757d; /* –¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ SOON */
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: var(--color-background); 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            padding: 20px; 
            color: var(--color-secondary-dark); 
        }
        .container { 
            background: var(--color-container-bg); 
            padding: 30px 25px; 
            border-radius: 20px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.1); 
            max-width: 480px; 
            width: 100%; 
        }
        .screen { display: none; animation: fadeIn 0.4s ease-in-out; }
        .screen.active { display: block; }
        
        /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
        h1, h2 { text-align: center; font-weight: 700; }
        /* –ó–ê–ì–û–õ–û–í–û–ö –°–ò–ù–ò–ô –ü–û –¢–†–ï–ë–û–í–ê–ù–ò–Æ */
        h1 { color: var(--color-secondary-dark); font-size: 24px; margin-bottom: 25px; line-height: 1.3; } 
        h2 { color: var(--color-header-mint); font-size: 22px; margin-bottom: 20px; }
        h3 { color: var(--color-accent-pink); font-size: 18px; font-weight: 600; margin-bottom: 15px; }
        p { margin-bottom: 15px; line-height: 1.5; font-size: 15px; }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn { 
            display: block; 
            width: 100%; 
            padding: 16px; 
            background: var(--color-secondary-dark); 
            color: var(--color-light-text); 
            border: none; 
            border-radius: 12px; 
            font-size: 18px; 
            font-weight: 600;
            cursor: pointer; 
            margin-top: 25px; 
            text-align: center; 
            text-decoration: none; 
            box-sizing: border-box; 
            transition: transform 0.1s, opacity 0.2s;
        }
        .btn:hover { opacity: 0.95; }
        .btn:active { transform: scale(0.99); }

        /* –ö–Ω–æ–ø–∫–∞ SOON */
        .btn-soon {
            background: var(--color-soon-btn);
            font-size: 16px;
            padding: 14px;
            margin-top: 0; margin-bottom: 25px;
            display: flex; justify-content: center; align-items: center; gap: 10px;
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
        .btn-card-action {
            background: var(--color-accent-pink); /* –†–æ–∑–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ */
            font-size: 16px;
            padding: 14px;
            margin-top: 20px;
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤ –æ–≤–µ—Ä–ª–µ–µ */
        .overlay-text .btn {
            background: #464A85;
            box-shadow: 0 4px 0 0 var(--color-accent-pink);
            margin-top: 15px;
        }

        /* –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (–∫–∞–Ω–∞–ª) */
        .btn-secondary {
            background: transparent;
            color: var(--color-secondary-dark);
            border: 2px solid var(--color-secondary-dark);
            font-size: 15px; padding: 12px;
        }

        /* –§–æ—Ä–º—ã –∏ –æ—Ç—Å—Ç—É–ø—ã */
        label.field-label { display: block; margin-top: 20px; font-weight: 600; margin-bottom: 8px; color: var(--color-secondary-dark); }
        select, input[type="text"] { 
            background: #F0F0F3; border: none; border-radius: 8px;
            width: 100%; padding: 14px; box-sizing: border-box; font-size: 15px; color: var(--color-secondary-dark);
            outline: none;
        }
        /* –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –≤ —Å–ø–∏—Å–∫–∞—Ö */
        .checkbox-group label, .radio-group label {
            display: flex; align-items: center;
            margin-bottom: 8px; /* –ú–∞–ª–µ–Ω—å–∫–∏–π –æ—Ç—Å—Ç—É–ø */
            font-size: 15px; cursor: pointer;
        }
        input[type="checkbox"], input[type="radio"] { margin-right: 12px; transform: scale(1.2); accent-color: var(--color-secondary-dark); }

        /* –°–ø–∏—Å–æ–∫ –Ω–∞ –≠–∫—Ä–∞–Ω–µ 1 */
        .list-check { text-align: left; margin: 25px 0; padding-left: 0; }
        .list-check li { margin-bottom: 15px; list-style: none; padding-left: 35px; position: relative; font-size: 15px; line-height: 1.4; }
        .list-check li::before { 
            content: "üî∑"; position: absolute; left: 0; top: 2px; font-size: 16px; color: var(--color-secondary-dark); 
        } 

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –û–ª–∏–º–ø–∏–∞–¥—ã */
        .olympiad-card { 
            border: 2px solid var(--color-accent-pink); /* –†–æ–∑–æ–≤–∞—è —Ä–∞–º–∫–∞ */
            padding: 20px; 
            border-radius: 16px; 
            margin-bottom: 25px; 
            background: #FFF;
            text-align: left;
        }
        .olympiad-card h3 { color: var(--color-accent-pink); margin-bottom: 15px; } /* –†–æ–∑–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
        .olympiad-card p { color: var(--color-secondary-dark); margin-bottom: 10px; } /* –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
        .olympiad-card strong, .olympiad-card span { color: var(--color-secondary-dark); font-weight: 600; }
        .olympiad-feature { font-style: italic; font-size: 14px; color: #555; margin-top: 15px; }
        
        /* –≠–ª–µ–º–µ–Ω—Ç—ã –±–ª—é—Ä–∞ –∏ –æ–≤–µ—Ä–ª–µ—è */
        .blur-box { filter: blur(3px); pointer-events: none; opacity: 0.6; user-select: none; }
        .overlay-text { 
            position: absolute; top: 50%; left: 50%; 
            transform: translate(-50%, -50%); 
            background: rgba(28, 29, 56, 0.95); 
            color: var(--color-light-text); 
            padding: 25px; border-radius: 16px; 
            text-align: center; width: 95%; box-sizing: border-box;
            z-index: 10; border: 2px solid var(--color-accent-pink); 
        }
        .overlay-text h3 { color: #FFF; }
        .overlay-text ul { text-align: left; padding-left: 0; margin: 15px 0; }
        .overlay-text ul li { list-style: none; margin-bottom: 10px; padding-left: 25px; position: relative; font-size: 14px; color: #FFF; }
        .overlay-text ul li::before { content: "üî∑"; color: var(--color-accent-pink); position: absolute; left: 0; top: 2px; font-size: 12px; }

        /* Result Box */
        .result-box { text-align: center; padding: 25px; background: var(--color-accent-pink); border-radius: 16px; margin: 30px 0; color: var(--color-light-text); }
        .result-box h2 { color: var(--color-light-text); margin: 0; font-size: 26px; }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä) */
        .progress-container { text-align: center; padding: 40px 0; }
        .progress-bar-bg { width: 100%; height: 12px; background-color: #E0E0E5; border-radius: 6px; overflow: hidden; margin: 25px 0; }
        .progress-bar-fill { height: 100%; width: 0%; background-color: var(--color-accent-pink); border-radius: 6px; transition: width 0.3s ease; }
        .progress-text { font-weight: 600; color: var(--color-secondary-dark); font-size: 18px; }

        /* –õ–æ–≥–æ –∏ –º–∞—Å–∫–æ—Ç */
        .logo { max-width: 140px; display: block; margin: 0 auto 20px; }
        .mascot { display: block; max-width: 90px; margin: 30px auto 0; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <img src="https://i.imgur.com/Yu5x7Xb.png" alt="AnyWay Logo" class="logo"> 
    
    <div id="screen-1" class="screen active">
        <h1>–£–∑–Ω–∞–π —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π —à–∞–Ω—Å –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ –≤—É–∑ –±–µ—Å–ø–ª–∞—Ç–Ω–æ</h1>
        
        <h3>–ê –µ—â–µ —Ç—ã –º–æ–∂–µ—à—å:</h3>
        <ul class="list-check">
            <li>–£–∑–Ω–∞—Ç—å, –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è —Å –Ω—É–ª—è –∫ –ª—ë–≥–∫–æ–π –æ–ª–∏–º–ø–∏–∞–¥–µ –∑–∞ 3 –º–µ—Å—è—Ü–∞ –∏ –ø–æ–ª—É—á–∏—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—é –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</li>
            <li>–ü–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–ª—è —Ç–µ–±—è –≤–∞—Ä–∏–∞–Ω—Ç –≤—É–∑–∞, –∞ –Ω–µ ¬´–∫—É–¥–∞ –≤–æ–∑—å–º—É—Ç¬ª</li>
            <li>–ó–∞–±—Ä–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –∏ –¥–µ–Ω—å–≥–∏ –≤–ø—É—Å—Ç—É—é</li>
        </ul>

        <button class="btn" onclick="nextScreen(2)">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –®–∞–Ω—Å—ã</button>
        <img src="https://i.imgur.com/T9q1G4D.png" alt="AnyWay Turtle" class="mascot">
    </div>

    <div id="screen-2" class="screen">
        <h2>–®–∞–≥ 1 –∏–∑ 3: –¢–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ</h2>
        
        <label class="field-label">–ö–ª–∞—Å—Å –æ–±—É—á–µ–Ω–∏—è:</label>
        <select id="class-select">
            <option value="8">8 –∫–ª–∞—Å—Å</option>
            <option value="9">9 –∫–ª–∞—Å—Å</option>
            <option value="10">10 –∫–ª–∞—Å—Å</option>
            <option value="11">11 –∫–ª–∞—Å—Å</option>
        </select>

        <label class="field-label">–ü—Ä–µ–¥–º–µ—Ç—ã –ï–ì–≠ (–≤—ã–±–µ—Ä–∏ –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ):</label>
        <div class="checkbox-group">
            <label><input type="checkbox" name="subjects" value="–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞"> –ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞</label>
            <label><input type="checkbox" name="subjects" value="–ë–∞–∑–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞"> –ë–∞–∑–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞</label>
            <label><input type="checkbox" name="subjects" value="–†—É—Å—Å–∫–∏–π —è–∑—ã–∫"> –†—É—Å—Å–∫–∏–π —è–∑—ã–∫</label>
            <label><input type="checkbox" name="subjects" value="–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞"> –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</label>
            <label><input type="checkbox" name="subjects" value="–§–∏–∑–∏–∫–∞"> –§–∏–∑–∏–∫–∞</label>
            <label><input type="checkbox" name="subjects" value="–•–∏–º–∏—è"> –•–∏–º–∏—è</label>
            <label><input type="checkbox" name="subjects" value="–ò—Å—Ç–æ—Ä–∏—è"> –ò—Å—Ç–æ—Ä–∏—è</label>
            <label><input type="checkbox" name="subjects" value="–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ"> –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ</label>
            <label><input type="checkbox" name="subjects" value="–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞"> –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</label>
            <label><input type="checkbox" name="subjects" value="–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫"> –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫</label>
            <label><input type="checkbox" name="subjects" value="–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫"> –ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫</label>
            <label><input type="checkbox" name="subjects" value="–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫"> –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫</label>
            <label><input type="checkbox" name="subjects" value="–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫"> –ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫</label>
            <label><input type="checkbox" name="subjects" value="–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫"> –ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫</label>
        </div>

        <label class="field-label">–í–£–ó –ú–µ—á—Ç—ã:</label>
        <select id="univer-select" onchange="toggleOtherInput('univer')">
            <option value="premium_city">–Ø –µ—â–µ –Ω–µ –≤—ã–±—Ä–∞–ª ‚Äî –ø–æ—Å—Ç—É–ø–∞—é –≤ –ö–†–£–ü–ù–´–ô –≥–æ—Ä–æ–¥ (–º–∏–ª–ª–∏–æ–Ω–Ω–∏–∫)</option>
            <option value="pro_city">–Ø –µ—â–µ –Ω–µ –≤—ã–±—Ä–∞–ª ‚Äî –ø–æ—Å—Ç—É–ø–∞—é –≤ –ù–ï–ö–†–£–ü–ù–´–ô –≥–æ—Ä–æ–¥</option>
            <option disabled>--- –¢–û–ü –í–£–ó–´ (Premium) ---</option>
            <option value="premium_univer">–ú–§–¢–ò (–§–∏–∑—Ç–µ—Ö)</option>
            <option value="premium_univer">–ú–ì–£ –∏–º. –ú. –í. –õ–æ–º–æ–Ω–æ—Å–æ–≤–∞</option>
            <option value="premium_univer">–ù–ò–£ –í–®–≠</option>
            <option value="premium_univer">–ú–ì–ò–ú–û</option>
            <option value="premium_univer">–ú–ì–¢–£ –∏–º. –ë–∞—É–º–∞–Ω–∞</option>
            <option value="pro_univer">–î—Ä—É–≥–æ–π –≤—É–∑ (–≤–≤–µ–¥—É —Å–∞–º)</option>
        </select>
        <input type="text" id="custom-univer" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—É–∑–∞" style="display:none; margin-top:10px;">

        <label class="field-label">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å:</label>
        <select id="spec-select" onchange="toggleOtherInput('spec')">
            <option value="undefined">–Ø –µ—â–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è</option>
            <option disabled>--- –¢–û–ü –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Premium) ---</option>
            <option value="premium_spec">IT (–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –ò–ë)</option>
            <option value="premium_spec">–≠–∫–æ–Ω–æ–º–∏–∫–∞ –∏ –§–∏–Ω–∞–Ω—Å—ã</option>
            <option value="premium_spec">–Æ—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü–∏—è</option>
            <option value="premium_spec">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
            <option value="premium_spec">–ò–Ω–∂–µ–Ω–µ—Ä–∏—è (–ù–µ—Ñ—Ç–µ–≥–∞–∑, –ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ)</option>
            <option value="premium_spec">–õ–∏–Ω–≥–≤–∏—Å—Ç–∏–∫–∞ –∏ –ü–µ—Ä–µ–≤–æ–¥</option>
            <option value="pro_spec">–î—Ä—É–≥–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å (–≤–≤–µ–¥—É —Å–∞–º)</option>
        </select>
        <input type="text" id="custom-spec" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å" style="display:none; margin-top:10px;">

        <label class="field-label">–û–∂–∏–¥–∞–µ–º—ã–π –±–∞–ª–ª –ï–ì–≠ (—Å—É–º–º–∞):</label>
        <div class="radio-group">
            <label><input type="radio" name="score" value="score_1"> 150-200 –±–∞–ª–ª–æ–≤</label>
            <label><input type="radio" name="score" value="score_2"> 200-250 –±–∞–ª–ª–æ–≤</label>
            <label><input type="radio" name="score" value="score_3"> 250-280 –±–∞–ª–ª–æ–≤</label>
            <label><input type="radio" name="score" value="score_4"> 280-310 –±–∞–ª–ª–æ–≤</label>
        </div>

        <button class="btn" onclick="processData()">–ù–∞—á–∞—Ç—å —Ä–∞—Å—á—ë—Ç</button>
    </div>

    <div id="screen-3" class="screen">
        <div id="loader-view" class="progress-container">
            <h3 class="progress-text" id="loader-text">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ...</h3>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="progress-fill"></div>
            </div>
            <p id="loader-subtext" style="font-size: 14px; color: #777;">–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –±–∞–∑–æ–π –∏–∑ 450 –≤—É–∑–æ–≤</p>
        </div>

        <div id="scenario-a" style="display:none;">
            <h2>–í–Ω–∏–º–∞–Ω–∏–µ!</h2>
            <p>–ß—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–Ω—ã–µ —à–∞–Ω—Å—ã, –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–µ–π.</p>
            
            <a href="https://t.me/anyway_olympiad" class="btn btn-secondary" style="margin-bottom: 25px;">–í –∫–∞–Ω–∞–ª–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–µ–±–µ –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç</a>

            <p><strong id="insurance-text"></strong></p>
            
            <button class="btn" onclick="showFinalScreenByScenarioA()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–π –ø–ª–∞–Ω –ø–æ–±–µ–¥—ã</button>
        </div>

        <div id="scenario-b" style="display:none;">
            <div class="result-box">
                <h2>üî¥ –¢–≤–æ–π —à–∞–Ω—Å —Ç–æ–ª—å–∫–æ –ø–æ –ï–ì–≠: <span id="chance-percent">0%</span></h2>
            </div>
            <p style="font-size: 14px; color: #555;">
                –ü–æ—á–µ–º—É —Ç–∞–∫ –Ω–∏–∑–∫–æ? –†–∞—Å—á–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω—ã–π. –ù–∞—à–∞ –º–æ–¥–µ–ª—å —É—á–∏—Ç—ã–≤–∞–µ—Ç, —á—Ç–æ —Ç–æ–ø–æ–≤—ã—Ö –º–µ—Å—Ç –º–∞–ª–æ, –∏—Ö –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å 100% –∑–∞–Ω–∏–º–∞—é—Ç –æ–ª–∏–º–ø–∏–∞–¥–Ω–∏–∫–∏, –ª—å–≥–æ—Ç–Ω–∏–∫–∏ –∏ –∫–≤–æ—Ç–Ω–∏–∫–∏.
            </p>
            <h3 style="margin-top: 30px; text-align: center;">–ù–æ... –ú—ã –Ω–∞—à–ª–∏ –∫–∞–∫ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Ç–≤–æ–∏ —à–∞–Ω—Å—ã –≤ 100%!</h3>
            <button class="btn" onclick="showFinalScreen(null)">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–π –ø–ª–∞–Ω –ø–æ–±–µ–¥—ã</button>
        </div>
    </div>

    <div id="screen-4" class="screen">
        
        <div id="soon-block" style="display:none;">
            <a href="https://t.me/anyway_olympiad" class="btn btn-soon">‚û°Ô∏è —É–∑–Ω–∞—Ç—å –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤—Å–µ ¬´–ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏–Ω—Å—Ç–∏—Ç—É—Ç–æ–≤¬ª</a>
        </div>

        <h2>–¢–≤–æ–π –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≥–æ—Ç–æ–≤!</h2>
        <p>–ú—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ <strong>8 –æ–ª–∏–º–ø–∏–∞–¥</strong> –¥–ª—è —Ç–µ–±—è:</p>
        <p>–¢—ã –º–æ–∂–µ—à—å —É–≤–∏–¥–µ—Ç—å –ü–ï–†–í–£–Æ –æ–ª–∏–º–ø–∏–∞–¥—É –∏–∑ —Ç–≤–æ–µ–≥–æ –ø–ª–∞–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ:</p>

        <div class="olympiad-card">
            <h3 id="olymp-name">–ù–∞–∑–≤–∞–Ω–∏–µ –û–ª–∏–º–ø–∏–∞–¥—ã</h3>
            <p>–£—Ä–æ–≤–µ–Ω—å: <strong id="olymp-level">I (–ë–í–ò)</strong></p>
            <p>–°—Ä–æ–∫ –æ—Ç–±–æ—Ä–∞: <strong id="olymp-deadline">–¥–æ 15 –¥–µ–∫–∞–±—Ä—è</strong></p>
            <p class="olympiad-feature" id="olymp-feature">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...</p>
            <p style="font-style: italic; font-size: 14px; margin-top: 15px; color: #777;">¬´–†–µ–∞–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∑–∞ 3 –º–µ—Å—è—Ü–∞¬ª</p> 
            
            <a href="#" id="card-bot-link" class="btn btn-card-action">–ø–æ–ª–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ñ–∞–π–ª –ø–æ –æ–ª–∏–º–ø–∏–∞–¥–µ</a>
        </div>

        <div style="position: relative;">
            <div class="blur-box">
                 <div class="olympiad-card"><h3>–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ (–ì–µ–æ–≥—Ä–∞—Ñ–∏—è)</h3><p>–£—Ä–æ–≤–µ–Ω—å 1. –ö—Ä–∞–π–Ω–∏–π —Å—Ä–æ–∫: 15 –¥–µ–∫–∞–±—Ä—è.</p></div>
                <div class="olympiad-card"><h3>–ï–≤—Ä–∞–∑–∏–π—Å–∫–∞—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞</h3><p>–£—Ä–æ–≤–µ–Ω—å 2. –°—Ä–æ–∫: 14 —è–Ω–≤–∞—Ä—è.</p></div>
                <div class="olympiad-card"><h3>–û–ª–∏–º–ø–∏–∞–¥–∞ –°–ü–±–ì–£ (–ò—Å—Ç–æ—Ä–∏—è/–û–±—â.)</h3><p>–£—Ä–æ–≤–µ–Ω—å 2. –°—Ä–æ–∫: 14 –¥–µ–∫–∞–±—Ä—è.</p></div>
            </div>
            
            <div class="overlay-text">
                <h3>–ó–∞–±–∏—Ä–∞–π <span style="color: var(--color-accent-pink); font-weight: bold;">–±–µ—Å–ø–ª–∞—Ç–Ω–æ</span> –ø–æ –∫–Ω–æ–ø–∫–µ:</h3>
                <ul>
                    <li>–¥–æ—Å—Ç—É–ø –≤ –∫–∞–Ω–∞–ª —Å –Ω–æ–≤—ã–º–∏ –∑–∞–∫–æ–Ω–∞–º–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è, —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –ø—Ä–æ –ï–ì–≠, –≤—É–∑—ã, –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏ –æ–ª–∏–º–ø–∏–∞–¥—ã –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤</li>
                    <li>–ß–µ–∫-–ª–∏—Å—Ç—ã —Å –ø–æ–¥–±–æ—Ä–∫–æ–π —Å–∞–º—ã—Ö –ª–µ–≥–∫–∏—Ö –æ–ª–∏–º–ø–∏–∞–¥, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏—Ö –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ</li>
                    <li>–°–∫–∏–¥–∫—É 50% –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –±–µ–∑ –ï–ì–≠ –≤ –ª—é–±–æ–π –≤—É–∑</li>
                </ul>
                <a href="#" id="main-bot-link" class="btn">–ó–∞–±—Ä–∞—Ç—å –ø–ª–∞–Ω</a>
            </div>
        </div>
    </div>
</div>

<script>
    // --- –ö–û–ù–°–¢–ê–ù–¢–´ –°–°–´–õ–û–ö ---
    const TELEGRAM_BOT_URL = "https://t.me/anywayhelp_bot";
    const TELEGRAM_CHANNEL_URL = "https://t.me/anyway_olympiad";
    
    // --- –õ–û–ì–ò–ö–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ---

    // –ü–æ–ª–Ω–∞—è –±–∞–∑–∞ –æ–ª–∏–º–ø–∏–∞–¥ (–¢–æ—á–∫–∏ –≤ –∫–æ–Ω—Ü–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —É–¥–∞–ª–µ–Ω—ã)
    const olympDatabase = {
        "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": { 
            name: "–û–ª–∏–º–ø–∏–∞–¥–∞ ¬´–†–æ—Å–∞—Ç–æ–º¬ª (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", 
            level: "II (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤ –≤ –ù–ò–Ø–£ –ú–ò–§–ò)", 
            deadline: "–û—á–Ω–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ —Å —Å–∞–º–æ–≥–æ –æ—Ç–±–æ—Ä–æ—á–Ω–æ–≥–æ —ç—Ç–∞–ø–∞", 
            feature: "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å, –Ω–æ –¥–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ –ª—å–≥–æ—Ç—ã" 
        },
        "–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞": { // –ê–ª–∏–∞—Å
            name: "–û–ª–∏–º–ø–∏–∞–¥–∞ ¬´–†–æ—Å–∞—Ç–æ–º¬ª (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", 
            level: "II (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤ –≤ –ù–ò–Ø–£ –ú–ò–§–ò)", 
            deadline: "–û—á–Ω–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ —Å —Å–∞–º–æ–≥–æ –æ—Ç–±–æ—Ä–æ—á–Ω–æ–≥–æ —ç—Ç–∞–ø–∞", 
            feature: "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å, –Ω–æ –¥–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ –ª—å–≥–æ—Ç—ã" 
        },
        "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞": { 
            name: "Innopolis Open (–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞)", 
            level: "II (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤)", 
            deadline: "27‚Äì28 –¥–µ–∫–∞–±—Ä—è 2025", 
            feature: "–ü—Ä–æ–≤–æ–¥–∏—Ç—Å—è –≤ –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–Ω–ª–∞–π–Ω-—Ç—É—Ä–∞, —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å—ã" 
        },
        "–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ": { 
            name: "–û–ª–∏–º–ø–∏–∞–¥–∞ –ú–ì–ò–ú–û (–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ)", 
            level: "II (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤)", 
            deadline: "12 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–ü–æ–±–µ–¥–∞ —Ä–µ–∞–ª—å–Ω–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–¥–µ–∂–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –ø–æ–ø–∞—Å—Ç—å –≤ –ú–ì–ò–ú–û" 
        },
        "–ò—Å—Ç–æ—Ä–∏—è": { 
            name: "–û–ª–∏–º–ø–∏–∞–¥–∞ –ú–ì–ò–ú–û (–ò—Å—Ç–æ—Ä–∏—è)", 
            level: "II (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤)", 
            deadline: "12 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ø–∞—Å—Ç—å –≤ –ú–ì–ò–ú–û –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω–∫—É—Ä—Å–∞" 
        },
        "–§–∏–∑–∏–∫–∞": { 
            name: "13-–π —ç–ª–µ–º–µ–Ω—Ç. AL—Ö–∏–º–∏—è –±—É–¥—É—â–µ–≥–æ (–§–∏–∑–∏–∫–∞)", 
            level: "III (–î–æ–ø. –±–∞–ª–ª—ã –≤ 144 –í–£–ó–∞)", 
            deadline: "13 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–ú–µ–∂–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ III —É—Ä–æ–≤–Ω—è ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç" 
        },
        "–•–∏–º–∏—è": { 
            name: "13-–π —ç–ª–µ–º–µ–Ω—Ç. AL—Ö–∏–º–∏—è –±—É–¥—É—â–µ–≥–æ (–•–∏–º–∏—è)", 
            level: "III (–î–æ–ø. –±–∞–ª–ª—ã –≤ 144 –í–£–ó–∞)", 
            deadline: "13 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–ú–µ–∂–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ III —É—Ä–æ–≤–Ω—è ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç" 
        },
        "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è": { 
            name: "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ (–ì–µ–æ–≥—Ä–∞—Ñ–∏—è)", 
            level: "I (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤)", 
            deadline: "15 –¥–µ–∫–∞–±—Ä—è 2025", 
            feature: "–¢—Ä–µ–±—É–µ—Ç —É–º–µ–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ –º—ã—Å–ª–∏—Ç—å, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∑—É–±—Ä–µ–∂–∫–∏" 
        },
        "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫": { 
            name: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∞—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞", 
            level: "II (–ë–í–ò –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤)", 
            deadline: "14 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏–Ω–≥–≤–∏—Å—Ç–∞–º, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –±–µ–∑ –ï–ì–≠ –Ω–∞ 95+" 
        },
        "–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫": { name: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∞—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞", level: "II", deadline: "14 —è–Ω–≤–∞—Ä—è 2026", feature: "–î–ª—è –ª–∏–Ω–≥–≤–∏—Å—Ç–æ–≤" },
        "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫": { name: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∞—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞", level: "II", deadline: "14 —è–Ω–≤–∞—Ä—è 2026", feature: "–î–ª—è –ª–∏–Ω–≥–≤–∏—Å—Ç–æ–≤" },
        "–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫": { name: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∞—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞", level: "II", deadline: "14 —è–Ω–≤–∞—Ä—è 2026", feature: "–î–ª—è –ª–∏–Ω–≥–≤–∏—Å—Ç–æ–≤" },
        "–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫": { name: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∞—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞", level: "II", deadline: "14 —è–Ω–≤–∞—Ä—è 2026", feature: "–î–ª—è –ª–∏–Ω–≥–≤–∏—Å—Ç–æ–≤" },

        "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫": { 
            name: "–û–ª–∏–º–ø–∏–∞–¥–∞ ¬´–û–∫–µ–∞–Ω –∑–Ω–∞–Ω–∏–π¬ª (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫)", 
            level: "III (–ë–í–ò –≤ –î–í–§–£ –∏–ª–∏ 100 –±–∞–ª–ª–æ–≤)", 
            deadline: "9 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–î–æ—Å—Ç—É–ø–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏" 
        },
        "default": { 
            name: "–û–ª–∏–º–ø–∏–∞–¥–∞ ¬´–û–∫–µ–∞–Ω –∑–Ω–∞–Ω–∏–π¬ª (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫)", 
            level: "III (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞)", 
            deadline: "9 —è–Ω–≤–∞—Ä—è 2026", 
            feature: "–û–ª–∏–º–ø–∏–∞–¥–∞ III —É—Ä–æ–≤–Ω—è ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç" 
        } 
    };

    let userData = {};

    function nextScreen(screenNum) {
        document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
        document.getElementById('screen-' + screenNum).classList.add('active');
    }

    function toggleOtherInput(type) {
        const select = document.getElementById(type + '-select');
        const input = document.getElementById('custom-' + type);
        input.style.display = (select.value === 'pro_univer' || select.value === 'pro_spec') ? 'block' : 'none';
    }

    function processData() {
        const classVal = document.getElementById('class-select').value;
        const checkboxes = document.querySelectorAll('input[name="subjects"]:checked');
        let subjects = []; checkboxes.forEach((cb) => { subjects.push(cb.value); });
        const scoreEl = document.querySelector('input[name="score"]:checked');
        const scoreVal = scoreEl ? scoreEl.value : null;

        if (subjects.length === 0 || !scoreVal) { alert("–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏ –±–∞–ª–ª."); return; }

        const univerSel = document.getElementById('univer-select');
        const specSel = document.getElementById('spec-select');
        
        userData = {
            class: classVal,
            subjects: subjects,
            univer: (univerSel.value === 'pro_univer') ? document.getElementById('custom-univer').value : univerSel.value,
            spec: (specSel.value === 'pro_spec') ? document.getElementById('custom-spec').value : specSel.value,
            score: scoreVal
        };

        nextScreen(3);
        runProgressAnimation();
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    function runProgressAnimation() {
        const fill = document.getElementById('progress-fill');
        const text = document.getElementById('loader-text');
        const subtext = document.getElementById('loader-subtext');
        
        let width = 0; fill.style.width = '0%';
        text.innerText = "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ...";
        subtext.innerText = "–°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –±–∞–∑–æ–π –∏–∑ 450 –≤—É–∑–æ–≤";

        setTimeout(() => { width = 30; fill.style.width = width + '%'; }, 500);
        setTimeout(() => { 
            width = 65; fill.style.width = width + '%'; 
            text.innerText = "–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ö–æ–¥–Ω—ã–µ –±–∞–ª–ª—ã 2025...";
            subtext.innerText = "–£—á–∏—Ç—ã–≤–∞–µ–º –∫–≤–æ—Ç—ã –∏ –ª—å–≥–æ—Ç–Ω–∏–∫–æ–≤";
        }, 1500);
        setTimeout(() => { 
            width = 90; fill.style.width = width + '%'; 
            text.innerText = "–ò—â–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–µ–∑ –ï–ì–≠...";
             subtext.innerText = "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ—á–Ω–∏ –æ–ª–∏–º–ø–∏–∞–¥";
        }, 2800);
        setTimeout(() => { 
            width = 100; fill.style.width = width + '%'; 
            document.getElementById('loader-view').style.display = 'none';
            calculateLogic();
        }, 4000); 
    }

    // --- –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê ---
    function calculateLogic() {
        // –°—Ü–µ–Ω–∞—Ä–∏–π –ê: –ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é
        if (userData.spec === 'undefined') {
            document.getElementById('scenario-a').style.display = 'block';
            
            const insuranceTextEl = document.getElementById('insurance-text');
            if (userData.subjects.includes('–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞')) {
                insuranceTextEl.innerHTML = "–ù–æ –¥–µ—Ä–∂–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∫—É: –û–ª–∏–º–ø–∏–∞–¥–∞ –ø–æ <span style='color:var(--color-accent-pink)'>–º–∞—Ç–µ–º–∞—Ç–∏–∫–µ</span> –ø–æ–∑–≤–æ–ª–∏—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å 100% –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –¥–∞–∂–µ –µ—Å–ª–∏ –µ—â–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é";
            } else {
                insuranceTextEl.innerHTML = "–ù–æ –¥–µ—Ä–∂–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∫—É: –û–ª–∏–º–ø–∏–∞–¥–∞ –ø–æ <span style='color:var(--color-accent-pink)'>–†—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É</span> –ø–æ–∑–≤–æ–ª–∏—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å 100% –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –¥–∞–∂–µ –µ—Å–ª–∏ –µ—â–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é (–ø–æ–¥—Ö–æ–¥–∏—Ç –≤—Å–µ–º)";
            }
            return;
        }

        // –°—Ü–µ–Ω–∞—Ä–∏–π B: –û–±—ã—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç
        document.getElementById('scenario-b').style.display = 'block';

        let univerType;
        if (userData.univer.startsWith('pro_') || userData.univer === 'pro_city') { 
            univerType = 'PRO';
        } else {
            univerType = 'PREMIUM';
        }
        
        let specType;
        if (userData.spec.startsWith('pro_')) {
            specType = 'PRO';
        } else {
            specType = 'PREMIUM';
        }
        
        let chance = 0;
        const score = userData.score; 

        // –ú–∞—Ç—Ä–∏—Ü–∞ —à–∞–Ω—Å–æ–≤
        if (univerType === 'PREMIUM' && specType === 'PREMIUM') {
            if (score === 'score_1') chance = 1;
            else if (score === 'score_2') chance = 10;
            else if (score === 'score_3') chance = 45; 
            else if (score === 'score_4') chance = 65; 
        } else if ((univerType === 'PREMIUM' && specType === 'PRO') || (univerType === 'PRO' && specType === 'PREMIUM')) { 
            if (score === 'score_1') chance = 5;
            else if (score === 'score_2') chance = 15;
            else if (score === 'score_3') chance = 45;
            else if (score === 'score_4') chance = 65;
        } else if (univerType === 'PRO' && specType === 'PRO') {
            if (score === 'score_1') chance = 15;
            else if (score === 'score_2') chance = 30;
            else if (score === 'score_3') chance = 60;
            else if (score === 'score_4') chance = 70;
        }

        userData.chance = chance;
        document.getElementById('chance-percent').innerText = chance + "%";
    }

    function showFinalScreenByScenarioA() {
        let subject = "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫";
        if (userData.subjects.includes('–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞')) {
            subject = "–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞";
        }
        showFinalScreen(subject);
    }

    function showFinalScreen(forcedSubject) {
        nextScreen(4);

        // –õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏ SOON
        const soonButton = document.querySelector('#soon-block a');
        if (userData.univer && userData.univer.includes('city')) {
            document.getElementById('soon-block').style.display = 'block';
            soonButton.href = TELEGRAM_CHANNEL_URL; 
        } else {
            document.getElementById('soon-block').style.display = 'none';
        }
        
        // 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–ª–∏–º–ø–∏–∞–¥—ã
        let subject = forcedSubject;
        if (!subject) {
            const prioritySubjects = ["–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞", "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è", "–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ", "–ò—Å—Ç–æ—Ä–∏—è", "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", "–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫", "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫", "–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫", "–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫", "–§–∏–∑–∏–∫–∞", "–•–∏–º–∏—è", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫"];
            let foundSubject = userData.subjects.find(sub => prioritySubjects.includes(sub));
            subject = foundSubject || "default";
        }

        let olymp = olympDatabase[subject] || olympDatabase["default"];

        document.getElementById('olymp-name').innerText = olymp.name;
        document.getElementById('olymp-level').innerText = olymp.level;
        document.getElementById('olymp-deadline').innerText = olymp.deadline;
        document.getElementById('olymp-feature').innerText = olymp.feature;


        // 2. –°–û–ó–î–ê–ù–ò–ï –£–ù–ò–ö–ê–õ–¨–ù–û–ô –°–°–´–õ–ö–ò
        let queryParams = new URLSearchParams();
        
        for (const key in userData) {
            if (Array.isArray(userData[key])) {
                 queryParams.append(key, userData[key].join(','));
            } else {
                queryParams.append(key, userData[key]);
            }
        }

        queryParams.append('olymp_name', olymp.name);
        
        // –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–°–´–õ–ö–ê –ù–ê –ë–û–¢
        const finalBotLink = TELEGRAM_BOT_URL + "?" + queryParams.toString(); 

        // 3. –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≠–∫—Ä–∞–Ω–µ 4
        document.getElementById('main-bot-link').href = finalBotLink;
        document.getElementById('card-bot-link').href = finalBotLink; 
    }
</script>

</body>
</html>